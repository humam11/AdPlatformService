# API Документация - Рекламные площадки

## 1. Загрузка рекламных площадок

**Метод:** POST  
**Путь:** `/api/platforms`  
**Описание:** Загружает список рекламных площадок из текстового файла и полностью заменяет старые данные.

### Формат файла
Каждая строка — рекламная площадка и локации через двоеточие и запятую.

**Пример содержимого файла:**
```
Яндекс.Директ:/ru
Ревдинский рабочий:/ru/svrd/revda, /ru/svrd/pervik
Газета уральских москвичей:/ru/msk,/ru/permobl
```

### Обработка пробелов
Если между локациями есть пробелы после запятых, сервис автоматически их удалит и корректно обработает список.

**Например:**
```
/ru/svrd/revda, /ru/svrd/pervik
```

**Будет обработано как:**
```
/ru/svrd/revda,/ru/svrd/pervik
```

### Ответ сервера
- **При успешной загрузке** — статус 201 с сообщением:
```
201 Created: Файл загружен и данные успешно сохранены.
```

- **При ошибке** — статус 500 с сообщением об ошибке.

## 2. Поиск рекламных площадок по локации

**Метод:** GET  
**Путь:** `/api/platforms/{location}`  
**Описание:** Возвращает список рекламных площадок, которые действуют для указанной локации (включая вложенные).

### Пример запроса
```bash
GET /api/platforms/ru/svrd/revda
```

### Пример успешного ответа
```json
{
  "status": "200 Success: Поиск выполнен успешно.",
  "location": "ru/svrd/revda",
  "platforms": [
    "Крутая реклама",
    "Ревдинский рабочий",
    "Яндекс.Директ"
  ]
}
```

### Ответ при отсутствии результатов
```json
{
  "status": "204 No Content: Поиск выполнен успешно.",
  "location": "ru/some-location",
  "platforms": [],
  "message": "Для указанной локации не найдено рекламных площадок."
}
```

## Особенности и возможности

- Все данные хранятся **только в оперативной памяти**, что обеспечивает очень быстрый поиск.
- При загрузке нового файла вся предыдущая информация **полностью заменяется**.
- Поддерживается автоматическое удаление лишних пробелов после запятых в списках локаций — это значит, что даже если пользователь загрузит файл с пробелами, программа это корректно обработает.
- Программа устойчива к ошибкам в файле — некорректные строки не приводят к сбоям.
- Поиск реализован с учётом вложенности локаций, чтобы быстро находить все подходящие рекламные площадки.